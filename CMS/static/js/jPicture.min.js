/*!
 * jPicture v1.1.2
 *
 * Copyright 2017, Frank Chao
 * Released under the MIT license
 *
 * Released on: July 10, 2017
 */
!function(c){if("undefined"===typeof jQuery)throw Error("jPicture's Javascript requires jQuery !");"function"===typeof define&&define.amd?define(["jquery"],function(d){return c(d)}):"object"===typeof module&&"object"===typeof module.exports?exports=c(require("jquery")):c(jQuery)}(function(c){var d=c.fn.jquery.split(".");if(1===~~d[0]&&11>~~d[1])throw Error("jPicture's Javascript requires at least jQuery v1.11.0 !");window.jPicture=function(d,p){var q=navigator.userAgent.toLowerCase().match(/(windows nt|macintosh)/)?!0:!1,B=!q&&"ontouchend"in document?!0:!1;c(function(){c(d).each(function(){function f(a){"fade"==r&&(a=-1==a?g-1:a==g?0:a,m.eq(a).stop().fadeIn(t).siblings().stop().fadeOut(t,function(){d(a);b.data("cacheIndex",a)}));"slide"==r&&(c.easing.easeInOutQuart=function(a,b,c,d,e){return 1>(b/=e/2)?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},e.is(":animated")||e.stop().animate({left:-(h*a+h)+"px"},t,"easeInOutQuart",function(){-1==a&&(e.css("left","-"+h*g+"px"),a=g-1);a==g&&(e.css("left","-"+h+"px"),a=0);d(a);b.data("cacheIndex",a);C.removeClass("jPicture-pointerevents-none")}))}function d(a){y.eq(a).addClass("active").siblings().removeClass("active")}var b=c(this),C=b.find("a"),h=b.width(),k=b.height(),r=B?"slide":p.type||"fade",u=p.arrow,v=p.dot,n=p.autoplay;b.addClass("jPicture-container").children().first().addClass("jPicture-inner").children().addClass("jPicture-part");b.on("selectstart",function(){return!1}).data("cacheIndex",0);var e=b.find(".jPicture-inner"),m=b.find(".jPicture-part"),l=b.find("img, a"),g=e.find("img").length;m.add(l).width(h).height(k);k="";for(l=0;l<g;l++)k+="\x3cb\x3e\x3c/b\x3e";e.after("\x3cdiv class\x3d'jPicture-dot'\x3e"+k+"\x3c/div\x3e");var z=b.find(".jPicture-dot"),y=z.find("b");z.each(function(){c(this).css("marginLeft",-c(this).outerWidth(!0)/2+"px")});y.first().addClass("active");q&&b.append("\x3cb class\x3d'jPicture-prev'\x3e\x3c/b\x3e\x3cb class\x3d'jPicture-next'\x3e\x3c/b\x3e");k=b.find(".jPicture-prev");l=b.find(".jPicture-next");"boolean"!==typeof u||u||k.add(l).hide();"boolean"!==typeof v||v||z.hide();"fade"==r&&(e.addClass("jPicture-fade"),m.first().show());"slide"==r&&(m=e.find(".jPicture-part"),u=m.first(),v=m.last(),e.addClass("jPicture-slide").width(h*(g+2)).append(u.clone(!0)).prepend(v.clone(!0)).css("left",-h+"px"));var t=700;q&&(y.click(function(){var a=c(this).index();f(a);b.data("cacheIndex",a)}),k.click(function(){var a=b.data("cacheIndex");a--;f(a)}),l.click(function(){var a=b.data("cacheIndex");a++;f(a)}));if(n&&"number"===typeof n){var w=setInterval(function(){var a=b.data("cacheIndex");a++;f(a)},n);if(q)b.mouseenter(function(){clearInterval(w)}).mouseleave(function(){w=setInterval(function(){var a=b.data("cacheIndex");a++;f(a)},n)});else b.on("touchstart",function(){clearInterval(w)}).on("touchend",function(){w=setInterval(function(){var a=b.data("cacheIndex");a++;f(a)},n)})}if(B){var t=500,x,A,D;b.on("touchstart",function(a){x=a.originalEvent.targetTouches[0].pageX}).on("touchmove",function(a){D=a.originalEvent.changedTouches[0].pageX;C.addClass("jPicture-pointerevents-none");D!=x&&a.preventDefault()}).on("touchend",function(a){A=a.originalEvent.changedTouches[0].pageX;a=b.data("cacheIndex");-30>A-x&&a++;30<A-x&&a--;f(a)})}})})}});